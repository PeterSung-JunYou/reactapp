(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},16:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(9),s=n.n(i),l=n(2),c=n(3),h=n(5),r=n(4),d=n(6),u=(n(16),n(17),n(10)),p=n(1),m=n(7),y=n.n(m),f=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{onClick:this.props.onClick},this.props.contact.name," ")}}]),t}(o.a.Component),v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(r.a)(t).call(this,e))).state={selectedKey:-1,isEdit:!1,name:"",phone:""},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleKeyPress=n.handleKeyPress.bind(Object(p.a)(n)),n.handleToggle=n.handleToggle.bind(Object(p.a)(n)),n.handleEdit=n.handleEdit.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps",JSON.stringify(e),this.name)}},{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"handleKeyPress",value:function(e){13===e.charCode&&this.handleEdit()}},{key:"handleToggle",value:function(){this.state.isEdit?this.handleEdit():this.setState({selectedKey:this.props.selectedKey,name:this.props.contact.name,phone:this.props.contact.phone}),this.setState({isEdit:!this.state.isEdit}),console.log(this.state.isEdit)}},{key:"handleEdit",value:function(){this.props.onEdit(this.state.name,this.state.phone)}},{key:"render",value:function(){console.log("props",this.props),console.log("State",this.state),this.state.selectedKey!==this.props.selectedKey&&this.setState({selectedKey:this.props.selectedKey,isEdit:!1,name:this.props.contact.name,phone:this.props.contact.phone});var e=o.a.createElement("div",null,o.a.createElement("p",null,this.props.contact.name),o.a.createElement("p",null,this.props.contact.phone));console.log(e);var t=o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("input",{type:"text",name:"name",placeholder:"name",value:this.state.name,onChange:this.handleChange})),o.a.createElement("p",null,o.a.createElement("input",{type:"text",name:"phone",placeholder:"phone",value:this.state.phone,onChange:this.handleChange,onKeyPress:this.handleKeyPress})));console.log(t);var n=this.state.isEdit?o.a.createElement("div",null,o.a.createElement("input",null,this.props.contact.name),o.a.createElement("input",null,this.props.contact.phone)):e;console.log(n);var a=o.a.createElement("div",null,"Not selected");return o.a.createElement("div",null,o.a.createElement("h2",{onClick:function(){return alert("clicked")}},"Dtails"),o.a.createElement("div",null,this.props.isSelected?this.state.isEdit?t:n:a),o.a.createElement("p",null,o.a.createElement("button",{onClick:this.handleToggle},this.state.isEdit?"OK":"Edit"),o.a.createElement("button",{onClick:this.props.onRemove},"Remove")))}}]),t}(o.a.Component);v.defaultProps={selectedKey:-1,contact:{name:"???",phone:"???"},onRemove:function(){return console.error("onRemove is not defined")},onEdit:function(){return console.error("onEdit is not defined")}};var g=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(r.a)(t).call(this,e))).state={name:"",phone:""},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleClick=n.handleClick.bind(Object(p.a)(n)),n.handleKeyPress=n.handleKeyPress.bind(Object(p.a)(n)),console.log("constructor",n.name),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleKeyPress",value:function(e){13===e.charCode&&this.handleClick()}},{key:"handleChange",value:function(e){var t={};t[e.target.name]=e.target.value,console.log("nextState",t),console.log("thisState",this.state),this.setState(t)}},{key:"handleClick",value:function(){var e={name:this.state.name,phone:this.state.phone};this.props.onCreate(e),this.setState({name:"",phone:""}),console.log("this=========",this.ttttisinput),console.log("this=========",this),this.ttttisinput.focus()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("h2",null,"Create Contact"),o.a.createElement("p",null,o.a.createElement("input",{type:"text",name:"name",placeholder:"name",value:this.state.name,onChange:this.handleChange,ref:function(t){e.ttttisinput=t}}),o.a.createElement("input",{type:"text",name:"phone",placeholder:"phone",value:this.state.phone,onChange:this.handleChange,onKeyPress:this.handleKeyPress})),o.a.createElement("button",{onClick:this.handleClick},"Create"))}}]),t}(o.a.Component);g.defaultProps={onCreate:function(){return console.error("onCreate not defined")}};var E=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(r.a)(t).call(this,e))).state={keyword:"",selectedKey:-1,contactData:[{name:"Hellen",phone:"010-1234-hell"},{name:"Peter",phone:"010-1234-pete"},{name:"John",phone:"010-1234-john"},{name:"Anastasia",phone:"010-1234-an bas"}]},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleClick=n.handleClick.bind(Object(p.a)(n)),n.handleCreate=n.handleCreate.bind(Object(p.a)(n)),n.handleRemove=n.handleRemove.bind(Object(p.a)(n)),n.handleEdit=n.handleEdit.bind(Object(p.a)(n)),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.contactData;e&&this.setState({contactData:JSON.parse(e)}),console.log("componentWillMount",this.id)}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(t.contactData)!==JSON.stringify(this.state.contactData)&&(localStorage.contactData=JSON.stringify(this.state.contactData)),console.log("componentDidUpdate","bef-prop:",JSON.stringify(e),"aft-prop:",JSON.stringify(this.Props),"bef-stat:",JSON.stringify(t),"aft-stat:",JSON.stringify(this.state),this.name)}},{key:"handleCreate",value:function(e){this.setState({contactData:y()(this.state.contactData,{$push:[e]})})}},{key:"handleRemove",value:function(){this.state.selectedKey<=-1||this.setState({contactData:y()(this.state.contactData,{$splice:[[this.state.selectedKey,1]]}),selectedKey:-1})}},{key:"handleEdit",value:function(e,t){this.setState({contactData:y()(this.state.contactData,Object(u.a)({},this.state.selectedKey,{name:{$set:e},phone:{$set:t}}))})}},{key:"handleChange",value:function(e){this.setState({keyword:e.target.value}),console.log("keyword",this.state.keyword)}},{key:"handleClick",value:function(e){this.setState({selectedKey:e}),console.log("selected",e+","+this.state.selectedKey)}},{key:"render",value:function(){var e,t=this;return o.a.createElement("div",null,o.a.createElement("h1",null,"Contacts"),o.a.createElement("input",{name:"keyword",placeholder:"Search",value:this.state.keyword,onChange:this.handleChange}),o.a.createElement("div",null,((e=this.state.contactData).sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),(e=e.filter((function(e){return e.name.toLowerCase().indexOf(t.state.keyword.toLowerCase())>-1}))).map((function(e,n){return o.a.createElement(f,{contact:e,key:n,onClick:function(){return t.handleClick(n)}})})))),o.a.createElement(v,{isSelected:-1!==this.state.selectedKey,selectedKey:this.state.selectedKey,contact:this.state.contactData[this.state.selectedKey],onRemove:this.handleRemove,onEdit:this.handleEdit}),o.a.createElement(g,{onCreate:this.handleCreate}))}}]),t}(o.a.Component),b=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){console.log("componentWillMount",this.id)}},{key:"componentDidMount",value:function(){console.log("componentDidMount",this.name)}},{key:"componentWillReceiveProps",value:function(e){console.log("componentWillReceiveProps",JSON.stringify(e),this.name)}},{key:"shouldComponentUpdate",value:function(e,t){return console.log("shouldComponentUpdate",JSON.stringify(e),JSON.stringify(t),this.name),!0}},{key:"componentWillUpdate",value:function(e,t){console.log("componentWillUpdate",JSON.stringify(e),JSON.stringify(t),this.name)}},{key:"componentDidUpdate",value:function(e,t){console.log("componentDidUpdate",JSON.stringify(e),JSON.stringify(t),this.name)}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount",this.name)}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(E,null))}}]),t}(o.a.Component);s.a.render(o.a.createElement(b,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.a80470de.chunk.js.map